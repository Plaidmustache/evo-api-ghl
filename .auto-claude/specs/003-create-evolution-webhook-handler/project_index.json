{
  "project_root": "/Users/malone/evo-api-ghl",
  "project_type": "single",
  "services": {
    "main": {
      "name": "main",
      "path": "/Users/malone/evo-api-ghl",
      "language": "TypeScript",
      "framework": "NestJS",
      "type": "backend",
      "package_manager": "npm",
      "default_port": 3000,
      "orm": "Prisma",
      "dev_command": "npm run start",
      "key_directories": {
        "src": {
          "path": "src",
          "purpose": "Source code"
        }
      },
      "entry_point": "src/main.ts",
      "dependencies": [
        "@green-api/greenapi-integration",
        "@nestjs/axios",
        "@nestjs/common",
        "@nestjs/config",
        "@nestjs/core",
        "@nestjs/platform-express",
        "@nestjs/throttler",
        "@prisma/client",
        "class-transformer",
        "class-validator",
        "crypto-js",
        "helmet",
        "reflect-metadata",
        "rxjs"
      ],
      "dev_dependencies": [
        "@nestjs/cli",
        "@nestjs/schematics",
        "@nestjs/testing",
        "@types/crypto-js",
        "@types/express",
        "@types/node",
        "globals",
        "prisma",
        "prisma-json-types-generator",
        "source-map-support"
      ],
      "dockerfile": "Dockerfile",
      "environment": {
        "variables": {
          "DATABASE_URL": {
            "value": null,
            "source": ".env.example",
            "type": "string",
            "sensitive": false,
            "required": true
          },
          "GHL_CLIENT_ID": {
            "value": null,
            "source": ".env.example",
            "type": "string",
            "sensitive": false,
            "required": true
          },
          "GHL_CLIENT_SECRET": {
            "value": null,
            "source": ".env.example",
            "type": "string",
            "sensitive": true,
            "required": true
          },
          "GHL_CONVERSATION_PROVIDER_ID": {
            "value": null,
            "source": ".env.example",
            "type": "string",
            "sensitive": false,
            "required": true
          },
          "APP_URL": {
            "value": null,
            "source": ".env.example",
            "type": "string",
            "sensitive": false,
            "required": true
          },
          "GHL_SHARED_SECRET": {
            "value": null,
            "source": ".env.example",
            "type": "string",
            "sensitive": true,
            "required": true
          },
          "GHL_WORKFLOW_TOKEN": {
            "value": null,
            "source": ".env.example",
            "type": "string",
            "sensitive": true,
            "required": true
          },
          "GHL_APP_ID": {
            "value": null,
            "source": ".env.example",
            "type": "string",
            "sensitive": false,
            "required": true
          },
          "MYSQL_ROOT_PASSWORD": {
            "value": null,
            "source": "docker-compose.yml",
            "type": "string",
            "sensitive": false,
            "required": false
          },
          "MYSQL_DATABASE": {
            "value": null,
            "source": "docker-compose.yml",
            "type": "string",
            "sensitive": false,
            "required": false
          },
          "MYSQL_USER": {
            "value": null,
            "source": "docker-compose.yml",
            "type": "string",
            "sensitive": false,
            "required": false
          },
          "MYSQL_PASSWORD": {
            "value": null,
            "source": "docker-compose.yml",
            "type": "string",
            "sensitive": false,
            "required": false
          }
        },
        "required_count": 8,
        "optional_count": 0,
        "detected_count": 12
      },
      "database": {
        "models": {
          "User": {
            "table": "user",
            "fields": {
              "id": {
                "type": "String",
                "primary_key": true,
                "unique": false,
                "nullable": false
              },
              "companyId": {
                "type": "String",
                "primary_key": false,
                "unique": false,
                "nullable": false
              },
              "accessToken": {
                "type": "String",
                "primary_key": false,
                "unique": false,
                "nullable": false
              },
              "refreshToken": {
                "type": "String",
                "primary_key": false,
                "unique": false,
                "nullable": false
              },
              "tokenExpiresAt": {
                "type": "DateTime",
                "primary_key": false,
                "unique": false,
                "nullable": false
              },
              "instances": {
                "type": "Instance",
                "primary_key": false,
                "unique": false,
                "nullable": false
              },
              "createdAt": {
                "type": "DateTime",
                "primary_key": false,
                "unique": false,
                "nullable": false
              }
            },
            "file": "prisma/schema.prisma",
            "orm": "Prisma"
          },
          "Instance": {
            "table": "instance",
            "fields": {
              "id": {
                "type": "BigInt",
                "primary_key": true,
                "unique": false,
                "nullable": false
              },
              "idInstance": {
                "type": "BigInt",
                "primary_key": false,
                "unique": true,
                "nullable": false
              },
              "apiTokenInstance": {
                "type": "String",
                "primary_key": false,
                "unique": false,
                "nullable": false
              },
              "stateInstance": {
                "type": "InstanceState",
                "primary_key": false,
                "unique": false,
                "nullable": false
              },
              "userId": {
                "type": "String",
                "primary_key": false,
                "unique": false,
                "nullable": false
              },
              "user": {
                "type": "User",
                "primary_key": false,
                "unique": false,
                "nullable": false
              },
              "settings": {
                "type": "Json",
                "primary_key": false,
                "unique": false,
                "nullable": false
              }
            },
            "file": "prisma/schema.prisma",
            "orm": "Prisma"
          }
        },
        "total_models": 2,
        "model_names": [
          "User",
          "Instance"
        ]
      },
      "migrations": {
        "tool": "prisma",
        "directory": "prisma/migrations",
        "config_file": "prisma/schema.prisma",
        "commands": {
          "migrate": "prisma migrate deploy",
          "dev": "prisma migrate dev",
          "create": "prisma migrate dev --name migration_name"
        }
      }
    }
  },
  "infrastructure": {
    "docker_compose": "docker-compose.yml",
    "docker_services": [
      "adapter",
      "db"
    ],
    "dockerfile": "Dockerfile"
  },
  "conventions": {
    "typescript": true
  }
}