{
  "task_description": "Complete GREEN-API to Evolution API migration by cleaning up package dependencies, rebranding documentation, and removing all GREEN-API references from source code.",
  "scoped_services": ["main"],
  "files_to_modify": {
    "main": [
      "package.json",
      "package-lock.json",
      "src/webhooks/guards/greenapi-webhook.guard.ts",
      "src/webhooks/webhooks.module.ts",
      "src/webhooks/webhooks.controller.ts",
      "src/main.ts",
      "src/prisma/prisma.service.ts",
      "src/filters/validation-exception.filter.ts",
      "src/ghl/ghl.controller.ts",
      "src/ghl/ghl.service.ts",
      "src/ghl/ghl.transformer.ts",
      "src/oauth/oauth.controller.ts",
      "src/custom-page/custom-page.controller.ts",
      "README.md",
      "README.ru.md",
      "CLAUDE.md",
      ".env.example"
    ]
  },
  "files_to_reference": [
    ".worktrees/002-create-evolution-api-http-client/src/evolution/evolution-api.client.ts",
    ".worktrees/003-create-evolution-webhook-handler/src/webhooks/guards/evolution-webhook.guard.ts",
    ".worktrees/003-create-evolution-webhook-handler/src/webhooks/webhooks.controller.ts",
    ".worktrees/004-update-message-transformer-for-evolution-api/src/ghl/ghl.transformer.ts",
    ".worktrees/005-update-ghl-service-for-evolution-api/src/ghl/ghl.service.ts",
    ".worktrees/006-update-custom-page-ui-for-evolution-api/src/custom-page/custom-page.controller.ts"
  ],
  "patterns": {
    "logger_pattern": "Replace GreenApiLogger.getInstance(ClassName.name) with new Logger(ClassName.name) from @nestjs/common",
    "guard_pattern": "Replace GreenApiWebhookGuard with EvolutionWebhookGuard from evolution-webhook.guard.ts",
    "import_pattern": "Remove all imports from @green-api/greenapi-integration, use local implementations",
    "naming_convention": "Replace 'GreenApi' prefix with 'Evolution' in class and method names"
  },
  "existing_implementations": {
    "description": "Previous tasks (001-007) created Evolution API implementations in worktrees that need to be merged before this task can succeed",
    "relevant_files": [
      "evolution-api.client.ts - HTTP client for Evolution API",
      "evolution-webhook.guard.ts - Webhook authentication guard",
      "evolution-webhook.dto.ts - Webhook payload DTOs",
      "evolution-webhook.types.ts - TypeScript types for webhooks"
    ]
  },
  "green_api_references_found": {
    "package_json": {
      "name": "greenapi-integration-gohighlevel",
      "description": "GREEN-API Integration with GoHighLevel",
      "dependency": "@green-api/greenapi-integration"
    },
    "source_files_with_imports": [
      "src/webhooks/guards/greenapi-webhook.guard.ts",
      "src/webhooks/webhooks.controller.ts",
      "src/webhooks/webhooks.module.ts",
      "src/main.ts",
      "src/prisma/prisma.service.ts",
      "src/filters/validation-exception.filter.ts",
      "src/ghl/ghl.controller.ts",
      "src/ghl/ghl.service.ts",
      "src/ghl/ghl.transformer.ts",
      "src/oauth/oauth.controller.ts",
      "src/custom-page/custom-page.controller.ts"
    ],
    "imports_used": [
      "BaseGreenApiAuthGuard",
      "GreenApiLogger",
      "GreenApiWebhook",
      "Settings",
      "WebhookType",
      "IntegrationError",
      "NotFoundError",
      "BaseAdapter",
      "WaSettings",
      "SendResponse",
      "SendInteractiveButtons",
      "SendInteractiveButtonsReply",
      "formatPhoneNumber",
      "Message",
      "StateInstanceWebhook"
    ]
  },
  "created_at": "2026-01-11T18:10:36.150247",
  "updated_at": "2026-01-11T23:30:00.000000"
}
